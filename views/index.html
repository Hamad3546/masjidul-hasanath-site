<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>

<meta name="google-adsense-account" content="ca-pub-1519642066428508">
<script async
src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1519642066428508"
crossorigin="anonymous"></script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="description" content="Official Digital Portal of Masjidul Hasanath Godamuduna.">
<meta name="robots" content="index, follow">
<title>Masjidul Hasanath | Official Portal</title>

<script src="https://accounts.google.com/gsi/client" async defer></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Amiri&display=swap" rel="stylesheet">

<style>
:root { --p:#064e3b; --g:#d4af37; --bg:#f1f5f9; --t:#0f172a; --c:#ffffff; --a:#f0fdf4; --grad:linear-gradient(135deg,#064e3b 0%,#042f24 100%);}
*{box-sizing:border-box;}
body{margin:0;background:var(--bg);color:var(--t);font-family:'Poppins',sans-serif;padding-bottom:110px;}

.card{background:var(--c);border-radius:30px;padding:25px;margin-bottom:25px;box-shadow:0 20px 25px -5px rgba(0,0,0,0.1);}
.btn-action{background:var(--g);color:var(--p);border:none;padding:15px;border-radius:15px;width:100%;font-weight:800;cursor:pointer;margin-top:10px;}
nav{background:var(--c);display:flex;justify-content:space-around;padding:20px 0;position:fixed;bottom:0;width:100%;box-shadow:0 -15px 35px rgba(0,0,0,0.1);}
nav button{background:none;border:none;color:#94a3b8;font-size:0.7rem;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;}
nav button.active{color:var(--p);font-weight:800;}
section{padding:20px;display:none;}
section.active{display:block;}
</style>
</head>

<body>

<div id="gate">
<div style="text-align:center;padding:40px;">
<h2>Masjidul Hasanath</h2>
<div id="g_id_signin"></div>
</div>
</div>

<div id="app" style="display:none;">

<header style="background:var(--grad);padding:20px;color:white;border-radius:0 0 40px 40px;display:flex;justify-content:space-between;">
<h3 style="margin:0;">Masjidul Hasanath</h3>
<div>
<span id="userName"></span>
<img id="userImg" style="width:30px;height:30px;border-radius:50%;">
<button onclick="logout()">Logout</button>
</div>
</header>

<section id="home" class="active">

<div class="card">
<h3>Godamuduna Community Feed</h3>

<!-- POST AREA NOW ALWAYS VISIBLE -->
<div id="postArea">
<textarea id="feedMsg" style="width:100%;padding:12px;border-radius:12px;border:1px solid #ddd;" placeholder="Share with the village..."></textarea>
<button class="btn-action" onclick="addFeed()">Post Update</button>
</div>

<div id="feedContent" style="margin-top:15px;"></div>
</div>

</section>

<section id="me">
<div class="card" style="text-align:center;">
<h2>Hamad Fazmil</h2>
<p>Developer | Age 16</p>
</div>
</section>

<nav>
<button onclick="tab('home',this)" class="active"><i class="fas fa-home"></i>Home</button>
<button onclick="tab('me',this)"><i class="fas fa-user"></i>Hamad</button>
</nav>

</div>

<script>
google.accounts.id.initialize({
client_id:"318225024149-0hjour8gpcp0in6l9ksb415ba6aqvn03.apps.googleusercontent.com",
callback:handleAuth
});
google.accounts.id.renderButton(document.getElementById("g_id_signin"),{theme:"outline",size:"large"});

function handleAuth(response){
const payload=JSON.parse(atob(response.credential.split('.')[1]));
document.getElementById('gate').style.display='none';
document.getElementById('app').style.display='block';
document.getElementById('userName').innerText=payload.given_name;
document.getElementById('userImg').src=payload.picture;
}

function logout(){
google.accounts.id.disableAutoSelect();
location.reload();
}

function addFeed(){
const msg=document.getElementById('feedMsg').value;
if(!msg)return;
const post=`<div class="card" style="padding:15px;margin-bottom:10px;">
<small>Just now</small>
<p>${msg}</p>
</div>`;
document.getElementById('feedContent').insertAdjacentHTML('afterbegin',post);
document.getElementById('feedMsg').value="";
}

function tab(id,btn){
document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
document.getElementById(id).classList.add('active');
document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
btn.classList.add('active');
}
</script>

</body>
</html>
