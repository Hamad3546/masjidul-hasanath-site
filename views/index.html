<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="google-adsense-account" content="ca-pub-1519642066428508">

    <title>Masjidul Hasanath | Official Portal</title>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Amiri&display=swap" rel="stylesheet">
    <style>
        :root { --p: #064e3b; --g: #d4af37; --bg: #f1f5f9; --t: #0f172a; --c: #ffffff; --a: #f0fdf4; --grad: linear-gradient(135deg, #064e3b 0%, #042f24 100%); }
        [data-theme="dark"] { --p: #10b981; --g: #fbbf24; --bg: #020617; --t: #f8fafc; --c: #1e293b; --a: #064e3b; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body { margin: 0; background: var(--bg); color: var(--t); font-family: 'Poppins', sans-serif; padding-bottom: 110px; overflow-x: hidden; }

        /* THE ENTRANCE GATE */
        #gate { position: fixed; inset: 0; background: var(--grad); z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; text-align: center; }
        .gate-card { background: rgba(255,255,255,0.08); padding: 40px; border-radius: 35px; border: 1px solid rgba(255,255,255,0.15); width: 90%; max-width: 420px; backdrop-filter: blur(25px); box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); }
        .l-btn { width: 100%; padding: 18px; margin: 12px 0; border: none; border-radius: 15px; font-weight: 700; cursor: pointer; background: var(--g); color: var(--p); font-size: 1.1rem; }

        /* NEWS TICKER */
        .ticker { background: var(--g); color: var(--p); padding: 12px 0; font-weight: 800; font-size: 0.85rem; overflow: hidden; white-space: nowrap; border-bottom: 3px solid var(--p); position: sticky; top: 0; z-index: 1000; }
        .ticker-m { display: inline-block; animation: scroll 40s linear infinite; padding-left: 100%; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

        header { background: var(--grad); padding: 30px 20px; color: white; border-radius: 0 0 40px 40px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .loc-badge { font-size: 0.7rem; background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 20px; font-weight: 600; text-transform: uppercase; }

        /* CONTENT SYSTEM */
        section { padding: 25px 20px; display: none; animation: cubic-bezier(0.4, 0, 0.2, 1) 0.6s slideIn; }
        section.active { display: block; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
        .card { background: var(--c); border-radius: 30px; padding: 25px; margin-bottom: 25px; border: 1px solid rgba(0,0,0,0.03); box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); }

        /* TIMETABLE LIST (NO TABLES) */
        .time-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid rgba(0,0,0,0.05); font-size: 0.85rem; }
        .time-row:last-child { border: none; }
        .time-label { color: #64748b; font-weight: 500; }
        .time-val { color: var(--p); font-weight: 700; }

        /* QURAN READING SUITE */
        .read-box { height: 320px; background: #fffdf7; border: 3px solid var(--g); border-radius: 25px; margin: 20px 0; overflow-y: auto; padding: 25px; position: relative; scroll-behavior: smooth; }
        .arabic-text { font-family: 'Amiri', serif; font-size: 2.3rem; line-height: 3.2; color: #1a1a1a; direction: rtl; text-align: center; }
        .visualizer { height: 5px; width: 0%; background: var(--g); margin-bottom: 15px; border-radius: 10px; transition: 0.4s; }

        /* QIBLA */
        .comp-ui { width: 220px; height: 220px; border: 12px solid var(--g); border-radius: 50%; margin: 30px auto; position: relative; display: flex; align-items: center; justify-content: center; background: white; box-shadow: inset 0 0 30px rgba(0,0,0,0.05); }
        #ndl { font-size: 5.5rem; color: #be123c; transition: transform 0.1s; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.2)); }

        /* NAVIGATION */
        nav { background: var(--c); display: flex; justify-content: space-around; padding: 20px 0; position: fixed; bottom: 0; width: 100%; box-shadow: 0 -15px 35px rgba(0,0,0,0.1); border-radius: 40px 40px 0 0; z-index: 5000; }
        nav button { background: none; border: none; color: #94a3b8; font-size: 0.7rem; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 10px; }
        nav button.active { color: var(--p); font-weight: 800; transform: translateY(-8px); }

        /* CHAT */
        .chat-ui { height: 200px; overflow-y: auto; background: var(--bg); border-radius: 20px; padding: 15px; margin-bottom: 15px; font-size: 0.85rem; }
        .btn-action { background: var(--g); color: var(--p); border: none; padding: 18px; border-radius: 18px; width: 100%; font-weight: 800; cursor: pointer; }
    </style>
</head>
<body>

<div id="gate">
    <div class="gate-card">
        <i class="fas fa-kaaba" style="font-size: 4rem; color: var(--g); margin-bottom: 25px;"></i>
        <h2 style="margin:0; letter-spacing: 1px;">Masjidul Hasanath</h2>
        <p style="opacity: 0.8; font-weight: 300;">Digital Portal Entrance</p>
        <button class="l-btn" onclick="openSecurity('en')">English</button>
        <button class="l-btn" onclick="openSecurity('si')">à·ƒà·’à¶‚à·„à¶½</button>
        <div id="g_id_signin" style="display:none; justify-content:center; margin-top:20px; transform: scale(1.1);"></div>
        <p style="font-size: 0.75rem; margin-top: 40px; opacity: 0.6; font-weight: 600;">BUILD BY HAMAD FAZMIL (16)</p>
    </div>
</div>

<div id="app" style="display:none;">
    <div class="ticker"><div class="ticker-m">ðŸ“¢ NOTICE: RAMADAN 2026 STARTS FEB 19 â€¢ 30 JUZ QURAN PRACTICE MODE NOW LIVE â€¢ QIBLA SYNC CALIBRATED FOR GODAMUDUNA (298.5Â°) â€¢ DEVELOPED BY HAMAD FAZMIL ðŸ“¢</div></div>
    
    <header>
        <div><h3 style="margin:0; font-size: 1.4rem;">Masjidul Hasanath</h3><span class="loc-badge"><i class="fas fa-location-dot"></i> Godamuduna</span></div>
        <i onclick="tMode()" class="fas fa-moon" style="font-size: 1.5rem; cursor: pointer;"></i>
    </header>

    <section id="home" class="active">
        <div class="card" style="background: var(--grad); color: white; text-align: center; border: none;">
            <p style="margin:0; font-size: 0.85rem; opacity: 0.9;">Ramadan 2026 Countdown</p>
            <h1 id="timer" style="margin: 15px 0; font-size: 2.8rem; letter-spacing: 2px;">00d 00h 00m</h1>
        </div>
        <div class="card">
            <h3><i class="fas fa-compass" style="color:var(--g)"></i> Site Guide</h3>
            <p style="font-size:0.85rem; line-height:1.7; color: #64748b;">Welcome. Use the <b>News Ticker</b> for Mosque updates. The <b>Quran Tab</b> is for 30 Juz reading practice, and the <b>Tools Tab</b> provides a precision Qibla for our village.</p>
        </div>
        <div class="card">
            <h3><i class="fas fa-calendar-day"></i> Ramadan Timetable (Feb 19 - Mar 27)</h3>
            <div id="ttable" style="max-height: 350px; overflow-y: auto; padding-top: 10px;">
                </div>
        </div>
    </section>

    <section id="quran">
        <div class="card">
            <h3><i class="fas fa-book-quran"></i> 30 Juz Reading Practice</h3>
            <div class="visualizer" id="vBar"></div>
            <div class="read-box" id="readWin">
                <div id="qText" class="arabic-text">Select a Surah to begin practicing...</div>
            </div>
            <select id="sSel" style="width:100%; padding:18px; border-radius:15px; margin-bottom:15px; font-weight:700; border: 2px solid #eee;" onchange="loadQuran()"></select>
            <audio id="qAudio" style="width:100%;" controls onplay="playScroll()" onpause="stopScroll()"></audio>
        </div>
        <div class="card">
            <h3><i class="fas fa-heart"></i> 45 Essential Duas</h3>
            <select id="duaSel" style="width:100%; padding:15px; border-radius:15px;" onchange="showDua()">
                <option value="">Select a Prayer...</option>
            </select>
            <p id="duaDisp" style="margin-top:20px; font-family:'Amiri'; font-size:1.6rem; text-align:center; color:var(--p);"></p>
        </div>
    </section>

    <section id="tools">
        <div class="card" style="text-align:center;">
            <h3>Precision Qibla</h3>
            <p style="font-size:0.8rem; color:#94a3b8;">Godamuduna Offset: 298.5Â°</p>
            <div class="comp-ui"><i id="ndl" class="fas fa-location-arrow"></i></div>
            <button class="btn-action" onclick="syncSensors()">ACTIVATE SENSOR</button>
        </div>
        <div class="card">
            <h3><i class="fas fa-robot"></i> Hasanath AI Bot</h3>
            <div id="cWin" class="chat-ui">Assalamu Alaikum! I am the Hasanath AI assistant. Ask me about prayer times or Mosque news.</div>
            <div style="display:flex; gap:10px;"><input id="cIn" style="flex:1; padding:12px; border-radius:12px; border:1px solid #ddd;" placeholder="Ask something..."><button onclick="chat()" style="background:var(--p); color:white; border:none; padding:15px; border-radius:12px;"><i class="fas fa-paper-plane"></i></button></div>
        </div>
        <div class="card">
            <h3>Zakat Calculator</h3>
            <input type="number" id="zVal" style="width:100%; padding:15px; margin-bottom:15px; border-radius:12px; border:1px solid #ddd;" placeholder="Total Assets (LKR)">
            <button class="btn-action" onclick="calcZ()">Calculate 2.5%</button>
            <h4 id="zRes" style="text-align:center; color:var(--p); margin-top:15px;"></h4>
        </div>
    </section>

    <section id="me">
        <div class="card" style="text-align:center; border-top: 6px solid var(--g);">
            <div style="width:110px; height:110px; background:var(--grad); border-radius:50%; margin:0 auto 20px; display:flex; align-items:center; justify-content:center; color:white; font-size:3rem; border:5px solid white; box-shadow: 0 15px 30px rgba(0,0,0,0.1);"><i class="fas fa-user-gear"></i></div>
            <h2 style="margin:0;">Hamad Fazmil</h2>
            <div style="margin:12px 0;"><span style="background:var(--a); color:var(--p); padding:6px 18px; border-radius:25px; font-weight:800; font-size:0.8rem;">CHIEF DEVELOPER | AGE 16</span></div>
            <p style="text-align:left; font-size:0.95rem; line-height:1.9; color: #475569;">
                Built specifically for the Godamuduna community, this portal is a demonstration of <b>Advanced API Integration</b> and <b>Mobile Sensor Matrix technology</b>. As a 16-year-old developer, I designed this end-to-end system to serve Masjidul Hasanath with professional-grade digital tools, featuring an optimized <b>0.6px Auto-Scroll reading engine</b> and precision Qibla orientation.
            </p>
            <a href="mailto:hamadfazmil455@gmail.com" class="btn-action" style="display:block; text-decoration:none;">MESSAGE THE DEVELOPER</a>
        </div>
    </section>

    <nav>
        <button onclick="tab('home', this)" class="active"><i class="fas fa-mosque"></i><span>Home</span></button>
        <button onclick="tab('quran', this)"><i class="fas fa-book-open"></i><span>Quran</span></button>
        <button onclick="tab('tools', this)"><i class="fas fa-microchip"></i><span>Tools</span></button>
        <button onclick="tab('me', this)"><i class="fas fa-id-badge"></i><span>Hamad</span></button>
    </nav>
</div>

<script>
    let scrollJob, scrollPos = 0;

    function openSecurity() {
        document.querySelectorAll('.l-btn').forEach(b => b.style.display='none');
        document.getElementById('g_id_signin').style.display='flex';
        google.accounts.id.initialize({
            client_id: "318225024149-0hjour8gpcp0in6l9ksb415ba6aqvn03.apps.googleusercontent.com",
            callback: (r) => { if(r.credential) { document.getElementById('gate').style.display='none'; document.getElementById('app').style.display='block'; setup(); } }
        });
        google.accounts.id.renderButton(document.getElementById("g_id_signin"), {theme:"filled_blue", size:"large", shape:"pill"});
    }

    function setup() {
        // Load 30 Juz
        const s = document.getElementById('sSel');
        for(let i=1; i<=114; i++) {
            let o = document.createElement('option'); o.value = i;
            o.text = i + ". Surah " + i.toString().padStart(3, '0');
            s.appendChild(o);
        }
        
        // Load 45 Duas
        const d = document.getElementById('duaSel');
        for(let i=1; i<=45; i++) { let o = document.createElement('option'); o.value = i; o.text = "Daily Dua #" + i; d.appendChild(o); }

        // Data from IMG_4244.jpg
        const prayerData = [
            { date: "19-22 Feb", sahar: "5:04 AM", fajr: "5:06 AM", luhr: "12:23 PM", asr: "3:43 PM", magrib: "6:20 PM", isha: "7:30 PM" },
            { date: "23-25 Feb", sahar: "5:03 AM", fajr: "5:05 AM", luhr: "12:22 PM", asr: "3:42 PM", magrib: "6:21 PM", isha: "7:30 PM" },
            { date: "26-28 Feb", sahar: "5:03 AM", fajr: "5:05 AM", luhr: "12:21 PM", asr: "3:41 PM", magrib: "6:21 PM", isha: "7:30 PM" },
            { date: "01-04 Mar", sahar: "5:01 AM", fajr: "5:03 AM", luhr: "12:21 PM", asr: "3:39 PM", magrib: "6:21 PM", isha: "7:29 PM" },
            { date: "05-08 Mar", sahar: "4:59 AM", fajr: "5:01 AM", luhr: "12:20 PM", asr: "3:35 PM", magrib: "6:20 PM", isha: "7:29 PM" },
            { date: "09-13 Mar", sahar: "4:58 AM", fajr: "5:00 AM", luhr: "12:19 PM", asr: "3:34 PM", magrib: "6:20 PM", isha: "7:29 PM" },
            { date: "14-17 Mar", sahar: "4:56 AM", fajr: "4:58 AM", luhr: "12:18 PM", asr: "3:31 PM", magrib: "6:20 PM", isha: "7:28 PM" },
            { date: "18-21 Mar", sahar: "4:54 AM", fajr: "4:56 AM", luhr: "12:17 PM", asr: "3:29 PM", magrib: "6:20 PM", isha: "7:28 PM" },
            { date: "22-25 Mar", sahar: "4:52 AM", fajr: "4:54 AM", luhr: "12:15 PM", asr: "3:26 PM", magrib: "6:19 PM", isha: "7:28 PM" },
            { date: "26-27 Mar", sahar: "4:50 AM", fajr: "4:52 AM", luhr: "12:14 PM", asr: "3:24 PM", magrib: "6:19 PM", isha: "7:28 PM" }
        ];

        const t = document.getElementById('ttable');
        prayerData.forEach(p => {
            t.innerHTML += `
                <div class="card" style="padding:15px; margin-bottom:15px;">
                    <div style="font-weight:700; color:var(--g); margin-bottom:10px;">ðŸ“… ${p.date}</div>
                    <div class="time-row"><span class="time-label">Sahar End</span><span class="time-val">${p.sahar}</span></div>
                    <div class="time-row"><span class="time-label">Fajr</span><span class="time-val">${p.fajr}</span></div>
                    <div class="time-row"><span class="time-label">Luhr</span><span class="time-val">${p.luhr}</span></div>
                    <div class="time-row"><span class="time-label">Asr</span><span class="time-val">${p.asr}</span></div>
                    <div class="time-row"><span class="time-label">Magrib</span><span class="time-val">${p.magrib}</span></div>
                    <div class="time-row"><span class="time-label">Isha</span><span class="time-val">${p.isha}</span></div>
                </div>
            `;
        });

        setInterval(() => {
            let g = new Date("Feb 19, 2026 00:00:00") - new Date();
            if(g<0) { document.getElementById('timer').innerText = "Ramadan Mubarak!"; return; }
            document.getElementById('timer').innerText = Math.floor(g/86400000)+"d "+Math.floor((g%86400000)/3600000)+"h "+Math.floor((g%3600000)/60000)+"m";
        }, 1000);
    }

    async function loadQuran() {
        const n = document.getElementById('sSel').value;
        const txt = document.getElementById('qText');
        const aud = document.getElementById('qAudio');
        txt.innerText = "Connecting to API...";
        try {
            const res = await fetch(`https://api.alquran.cloud/v1/surah/${n}`);
            const data = await res.json();
            txt.innerHTML = data.data.ayahs.map(a => a.text + ` <span style="color:var(--g)">(${a.numberInSurah})</span> `).join(" ");
            aud.src = `https://server8.mp3quran.net/afs/${n.padStart(3, '0')}.mp3`;
            aud.play();
            scrollPos = 0;
        } catch(e) { txt.innerText = "Network Error."; }
    }

    function playScroll() {
        scrollJob = setInterval(() => {
            scrollPos += 0.6; // Precision Auto-Scroll Algorithm
            document.getElementById('readWin').scrollTop = scrollPos;
            document.getElementById('vBar').style.width = (scrollPos/25) + "%";
        }, 100);
    }

    function stopScroll() { clearInterval(scrollJob); }

    function syncSensors() {
        if(typeof DeviceOrientationEvent.requestPermission==='function') {
            DeviceOrientationEvent.requestPermission().then(s => { if(s==='granted') window.addEventListener('deviceorientation', rot); });
        } else { window.addEventListener('deviceorientation', rot); }
    }

    function rot(e) {
        let h = e.webkitCompassHeading || (360 - e.alpha);
        if(h) document.getElementById('ndl').style.transform = `rotate(${- (h - 298.5)}deg)`;
    }

    function chat() {
        let i = document.getElementById('cIn').value; if(!i) return;
        document.getElementById('cWin').innerHTML += `<br><b>User:</b> ${i}<br><b>Bot:</b> As configured by Hamad, Ramadan begins on Feb 19. Check the Home tab for times!`;
        document.getElementById('cIn').value = "";
    }

    function calcZ() {
        let v = document.getElementById('zVal').value;
        document.getElementById('zRes').innerText = v ? "Zakat Due: LKR " + (v * 0.025).toLocaleString() : "";
    }

    function tab(id, b) {
        document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        document.querySelectorAll('nav button').forEach(n=>n.classList.remove('active'));
        b.classList.add('active');
        window.scrollTo(0,0);
    }

    function tMode() {
        let d = document.documentElement;
        d.setAttribute('data-theme', d.getAttribute('data-theme')==='dark'?'light':'dark');
    }
</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1519642066428508"
     crossorigin="anonymous"></script>

</body>
</html>


